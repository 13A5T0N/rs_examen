<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="../assets/img/apple-icon.png"
    />
    <link rel="icon" type="image/png" href="../assets/img/favicon.png" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Home | RS-Examen</title>
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no"
      name="viewport"
    />
    <!--     Fonts and icons     -->
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200"
      rel="stylesheet"
    />
    <link
      href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css"
      rel="stylesheet"
    />
    <!-- CSS Files -->
    <link href="../assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="../assets/css/paper-dashboard.css?v=2.0.1" rel="stylesheet" />
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href="../assets/demo/demo.css" rel="stylesheet" />
    <link href="../assets/css/style.css" rel="stylesheet" />
  </head>

  <body class="">
    <div class="main-panel">
      <!-- Navbar -->
      <nav
        class="
          navbar navbar-expand-lg navbar-absolute
          fixed-top
          navbar-transparent
        "
      >
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <a
              class="navbar-brand font-weight-bold"
              href="javascript:;"
              style="text-transform: uppercase; color: #5166ce"
              >Examination</a
            >
          </div>
          <ul class="nav navbar-nav font-weight-bold">
            <li class="nav-item active">
              <a class="nav-link" href="">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="klas.html">Klas</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="student.html">Studenten</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="vak.html">Vakken</a>
            </li>
          </ul>
          <div
            class="collapse navbar-collapse justify-content-end"
            id="navigation"
          >
            <form>
              <div class="input-group no-border">
                <input
                  type="text"
                  value=""
                  class="form-control"
                  placeholder="Search..."
                />
                <div class="input-group-append">
                  <div class="input-group-text">
                    <i class="nc-icon nc-zoom-split"></i>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->
      <div class="content">
        <div class="row">
          <div class="col-md-12">
            <div class="card">
              <div class="card-header">
                <h5 class="card-title font-weight-bold space text-secondary">
                  Exams
                </h5>
                <p class="card-category">
                  <button
                    type="button"
                    class="btn float-right"
                    data-toggle="modal"
                    data-target="#add"
                    style="background-color: #6b7cd1"
                  >
                    examen Toevoegen
                  </button>
                </p>
              </div>
              <div class="card-body">
                <table class="table">
                  <thead
                    class="thead"
                    style="background-color: #6b7cd1; color: #fff"
                  >
                    <tr>
                      <th scope="col">#</th>
                      <th scope="col">Subject</th>
                      <th scope="col">Duration</th>
                      <th scope="col">Actions</th>
                    </tr>
                  </thead>
                  <tbody class="font-weight-bold">
                    <tr>
                      <th scope="row">1</th>
                      <td>Mark</td>
                      <td>2 uren</td>
                      <td>
                        <a href="#" class="view"
                          ><i
                            class="nc-icon nc-simple-add font-weight-bold"
                            data-toggle="modal"
                            data-target="#edit"
                            style="color: #5166ce"
                          ></i
                        ></a>
                      </td>
                    </tr>
                    <tr>
                      <th scope="row">2</th>
                      <td>Jacob</td>
                      <td>2 uren</td>
                      <td>
                        <a href="#" class="view"
                          ><i
                            class="nc-icon nc-simple-add font-weight-bold"
                            data-toggle="modal"
                            data-target="#edit"
                            style="color: #5166ce"
                          ></i
                        ></a>
                      </td>
                    </tr>
                    <tr>
                      <th scope="row">3</th>
                      <td>Larry</td>
                      <td>2 uren</td>
                      <td>
                        <a href="#" class="view"
                          ><i
                            class="nc-icon nc-simple-add font-weight-bold"
                            data-toggle="modal"
                            data-target="#edit"
                            style="color: #5166ce"
                          ></i
                        ></a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer class="footer footer-black footer-white">
        <div class="container-fluid">
          <div class="row">
            <nav class="footer-nav"></nav>
          </div>
        </div>
      </footer>
    </div>

    <!-- Modal -->
    <div
      class="modal fade"
      id="edit"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Edit</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form action="" method="post" name="login">
              <div class="form-group">
                <input
                  type="text"
                  name="subject"
                  class="form-control my-input"
                  id="subject"
                  placeholder="Subject"
                />
              </div>
              <div class="form-group">
                <input
                  type="text"
                  name="duration"
                  class="form-control my-input"
                  id="duration"
                  placeholder="Duration"
                />
              </div>
              <div
                class="custom-file-upload text-center"
                style="background-color: #5166ce"
              >
                <label for="file-upload" class="custom-file-upload1">
                  <i class="fa fa-cloud-upload"></i> Import vragen
                </label>
                <input id="file-upload" type="file" />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn" style="background-color: #5166ce">
              Save changes
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div
      class="modal fade"
      id="add"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form action="" method="post" name="login">
              <div class="form-group">
                <label for="subject">Titel</label>
                <input
                  type="text"
                  name="subject"
                  class="form-control my-input"
                  id="subject"
                  placeholder="Titel"
                />
              </div>
              <div class="form-group">
                <label for="klasDropdown"><b>Klas</b></label>
                <select
                  class="form-control"
                  id="klasDropdown"
                  class="form-control my-input"
                  name="klas"
                ></select>
              </div>
              <div class="form-group">
                <label for="vakDropdown"><b>Klas</b></label>
                <select
                  class="form-control"
                  id="vakDropdown"
                  class="form-control my-input"
                  name="vak"
                ></select>
              </div>
              <div
                class="custom-file-upload text-center"
                style="background-color: #5166ce"
              >
                <label for="file-upload" class="custom-file-upload1">
                  <i class="fa fa-cloud-upload"></i> Import vragen
                </label>
                <input id="file" type="file" />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button
              type="button"
              class="btn"
              onclick="uplaod_examen()"
              data-dismiss="modal"
              style="background-color: #5166ce"
            >
              Save changes
            </button>
          </div>
        </div>
      </div>
    </div>

    <!--   Core JS Files   -->
    <script src="../assets/js/core/jquery.min.js"></script>
    <script src="../assets/js/core/popper.min.js"></script>
    <script src="../assets/js/core/bootstrap.min.js"></script>
    <script src="../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
    <!--  Google Maps Plugin    -->
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
    <!-- Chart JS -->
    <script src="../assets/js/plugins/chartjs.min.js"></script>
    <!--  Notifications Plugin    -->
    <script src="../assets/js/plugins/bootstrap-notify.js"></script>
    <!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
    <script
      src="../assets/js/paper-dashboard.min.js?v=2.0.1"
      type="text/javascript"
    ></script>
    <!-- Paper Dashboard DEMO methods, don't include it in your project! -->
    <script src="../assets/demo/demo.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
      $(document).ready(function () {
        // Javascript method's body can be found in assets/assets-for-demo/js/demo.js
        demo.initChartsPages();
      });
    </script>
    <script>
      $(document).ready(function () {
        $.ajax({
          type: "GET",
          url: "http://127.0.0.1:5000/klas",
          success: function (data) {
            var s = '<option value="0"> Selecteer een klas</option>';
            for (var i = 0; i < data.length; i++) {
              s +=
                '<option value="' +
                data[i].klas_id +
                '">' +
                data[i].klas_id +
                "</option>";
            }
            $("#klasDropdown").html(s);
          },
        });

        $.ajax({
          type: "GET",
          url: "http://127.0.0.1:5000/vak",
          success: function (data) {
            var s = '<option value="0"> Selecteer een Vak</option>';
            for (var i = 0; i < data.length; i++) {
              s +=
                '<option value="' +
                data[i].vak_id +
                '">' +
                data[i].vak_naam +
                "</option>";
            }
            $("#vakDropdown").html(s);
          },
        });
      });

      function uplaod_examen() {
        const titel = $("#subject").value;
        const klas = $("#klas").value;
        const vak = $("#vak").vallue;
        var fd = new FormData();
        const file = $("#file")[0].files;
        fd.append("klas", klas);
        fd.append("vak", vak);
        fd.append("titel", titel);
        fd.append("file", file[0]);

        $.ajax({
          type: "POST",
          url: "http://127.0.0.1:5000/examen/add",
          data: fd,
          processData: false,
          contentType: false,
        });
      }
    </script>
  </body>
</html>
